<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>

<body>

    <div id="wrapper">
        <!--container1-->
        <div id="container" class="container" onclick="addFunc()">
            <img src="card-img.jpg" class="img" alt="Your img doesn't set">
            <h4 class="title">Ծրագրավորողների խումբ</h4>
            <p>Յուրաքանչյուր տեքստ պարունակում է բովանդակային պահանջ,որի սպառմանը ձգտելու արդյունքում այն ստեղծվել է հարաբերականորեն:</p>
        </div>
        <!--line-->
        <div id="line">Ուսուցում</div>
        <!--container2-->
        <div id="container2" class="container container2" onclick="addFunc()">
            <img src="card-img.jpg" class="img" alt="Your img doesn't set">
            <h4 class="title">Ծրագրավորողների խումբ</h4>
            <p>Յուրաքանչյուր տեքստ պարունակում է բովանդակային պահանջ,որի սպառմանը ձգտելու արդյունքում այն ստեղծվել է հարաբերականորեն: </p>
        </div>
    </div>

    <script>
        //creating variables for #wrapper's childs
        var ctr1 = document.getElementById('container');
        var ctr2 = document.getElementById('container2');
        var line = document.getElementById('line');
        var img = document.querySelectorAll(".img");
        var title = document.querySelectorAll(".title");
        var par = document.getElementsByTagName("p");

        //Function to make @keyframes work
        function addFunc() {
            if (ctr1.className == "container") {
                ctr1.classList.add("ctr1-anim1");
                ctr2.classList.add("ctr2-anim1");
                //Making components disappear & appear
                img[0].classList.add("opacity");
                par[0].classList.add("opacity");
                title[1].classList.add("opacity");
                //adding line animation
                line.classList.add("line-anim");
            } else if (ctr1.className == "container ctr1-anim1") {
                ctr1.classList.add("ctr1-anim2");
                ctr2.classList.add("ctr2-anim2");
                //Making components disappear & appear
                img[0].classList.remove("opacity");
                par[0].classList.remove("opacity");
                title[0].classList.add("opacity");
                par[1].classList.add("opacity");
                title[1].classList.remove("opacity");
                //line
                line.classList.add("line-anim2");
            } else if (ctr1.className == "container ctr1-anim1 ctr1-anim2") {
                //Returning everything back
                ctr1.classList.add("ctr1-anim3");
                ctr2.classList.add("ctr2-anim3");
                line.classList.add("line-anim3");
                //Right after the end of third animation, remove the added classes(which is going to take 1s)
                setTimeout(function() {
                    ctr1.classList.remove("ctr1-anim1", "ctr1-anim2", "ctr1-anim3");
                    ctr2.classList.remove("ctr2-anim1", "ctr2-anim2", "ctr2-anim3");
                    line.classList.remove("line-anim", "line-anim2", "line-anim3");
                }, 1000);
                title[0].classList.remove("opacity");
                par[1].classList.remove("opacity");
            }
        }
    </script>
</body>

</html>